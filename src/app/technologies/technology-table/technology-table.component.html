<button mat-flat-button color="primary" (click)="sidenav.toggle()">
  Open Filter
</button>

<div class="table-container">
  <table mat-table [dataSource]="dataSource" class="tech-table">
    <ng-container matColumnDef="techName" sticky>
      <th mat-header-cell *matHeaderCellDef [ngStyle]="{'display': 'none'}">Name</th>
      <td mat-cell *matCellDef="let tech">
        <div class="tech-name-cell">
          <img class="tech-name-cell__logo" src="{{tech.logoLocation}}" alt="{{tech.platformName}}"/>
          <span class="tech-name-cell__title"> {{tech.platformName}}</span>
        </div>
      </td>
    </ng-container>

    <ng-container *ngFor="let c of criteriaColumns">
      <ng-container [matColumnDef]="c.id">
        <th mat-header-cell *matHeaderCellDef> {{c.displayName}}</th>
        <td mat-cell *matCellDef="let tech">
          <ng-container *ngFor="let entry of tech.dossier.reviewedCriteria.get(c.id)?.values">
            <span *ngIf="entry">{{entry.value}}</span>
          </ng-container>
        </td>
      </ng-container>
    </ng-container>

    <ng-container matColumnDef="techNameHeader" sticky>
      <th mat-header-cell *matHeaderCellDef rowspan="3">Name</th>
    </ng-container>

    <ng-container *ngFor="let c of groupingColumns">
      <ng-container [matColumnDef]="c.id">
        <th mat-header-cell *matHeaderCellDef [attr.colspan]="c.colSpan"> {{c.displayName}}</th>
      </ng-container>
    </ng-container>

    <ng-container *ngFor="let c of viewColumns">
      <ng-container [matColumnDef]="c.id">
        <th mat-header-cell *matHeaderCellDef [attr.colspan]="c.colSpan"> {{c.displayName}}</th>
      </ng-container>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="viewColumnIds"></tr>
    <tr mat-header-row *matHeaderRowDef="groupingColumnIds"></tr>
    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
    <tr mat-row *matRowDef="let myRowData; columns: columnsToDisplay"></tr>
  </table>
</div>
